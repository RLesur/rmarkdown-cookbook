<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7.3 Using Custom Blocks | R Markdown Cookbook</title>
  <meta name="description" content="Examples, tips, and tricks of using R Markdown." />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="7.3 Using Custom Blocks | R Markdown Cookbook" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Examples, tips, and tricks of using R Markdown." />
  <meta name="github-repo" content="dr-harper/rmarkdown-cookbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7.3 Using Custom Blocks | R Markdown Cookbook" />
  
  <meta name="twitter:description" content="Examples, tips, and tricks of using R Markdown." />
  

<meta name="author" content="Michael Harper, Yihui Xie" />


<meta name="date" content="2019-08-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="designing-output.html">
<link rel="next" href="plotting-multiple-figures-side-by-side.html">
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<script src="libs/viz/viz.js"></script>
<link href="libs/DiagrammeR-styles/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding/grViz.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/customBlock.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Markdown Cookbook</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="how-to-read-this-book.html"><a href="how-to-read-this-book.html"><i class="fa fa-check"></i>How to read this book</a></li>
<li class="chapter" data-level="" data-path="structure-of-the-book.html"><a href="structure-of-the-book.html"><i class="fa fa-check"></i>Structure of the book</a></li>
<li class="chapter" data-level="" data-path="software-info.html"><a href="software-info.html"><i class="fa fa-check"></i>Software information and conventions</a></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="author.html"><a href="author.html"><i class="fa fa-check"></i>About the Authors</a></li>
<li class="chapter" data-level="1" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>1</b> Installation</a><ul>
<li class="chapter" data-level="1.1" data-path="install-latex-for-pdf-reports.html"><a href="install-latex-for-pdf-reports.html"><i class="fa fa-check"></i><b>1.1</b> Install LaTeX for PDF reports</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>2</b> Basics</a><ul>
<li class="chapter" data-level="2.1" data-path="r-markdown-components.html"><a href="r-markdown-components.html"><i class="fa fa-check"></i><b>2.1</b> R Markdown components</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="document-elements.html"><a href="document-elements.html"><i class="fa fa-check"></i><b>3</b> Document Elements</a><ul>
<li class="chapter" data-level="3.1" data-path="bibliographies-and-citations.html"><a href="bibliographies-and-citations.html"><i class="fa fa-check"></i><b>3.1</b> Bibliographies and citations</a><ul>
<li class="chapter" data-level="3.1.1" data-path="bibliographies-and-citations.html"><a href="bibliographies-and-citations.html#changing-citation-style"><i class="fa fa-check"></i><b>3.1.1</b> Changing citation style</a></li>
<li class="chapter" data-level="3.1.2" data-path="bibliographies-and-citations.html"><a href="bibliographies-and-citations.html#add-item-to-bibliography-without-using-it"><i class="fa fa-check"></i><b>3.1.2</b> Add item to bibliography without using it</a></li>
<li class="chapter" data-level="3.1.3" data-path="bibliographies-and-citations.html"><a href="bibliographies-and-citations.html#add-all-items-to-bibliography"><i class="fa fa-check"></i><b>3.1.3</b> Add all items to bibliography</a></li>
<li class="chapter" data-level="3.1.4" data-path="bibliographies-and-citations.html"><a href="bibliographies-and-citations.html#include-appendix-after-bibliography"><i class="fa fa-check"></i><b>3.1.4</b> Include appendix after bibliography</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="crossRef.html"><a href="crossRef.html"><i class="fa fa-check"></i><b>3.2</b> Cross-referencing within documents</a></li>
<li class="chapter" data-level="3.3" data-path="automatically-update-document-date.html"><a href="automatically-update-document-date.html"><i class="fa fa-check"></i><b>3.3</b> Automatically update document date</a></li>
<li class="chapter" data-level="3.4" data-path="adding-multiple-authors-to-document.html"><a href="adding-multiple-authors-to-document.html"><i class="fa fa-check"></i><b>3.4</b> Adding multiple authors to document</a></li>
<li class="chapter" data-level="3.5" data-path="adding-numbered-figure-captions.html"><a href="adding-numbered-figure-captions.html"><i class="fa fa-check"></i><b>3.5</b> Adding numbered figure captions</a></li>
<li class="chapter" data-level="3.6" data-path="combine-words-into-a-comma-separated-phrase.html"><a href="combine-words-into-a-comma-separated-phrase.html"><i class="fa fa-check"></i><b>3.6</b> Combine words into a comma-separated phrase</a></li>
<li class="chapter" data-level="3.7" data-path="preserve-a-large-number-of-linebreaks.html"><a href="preserve-a-large-number-of-linebreaks.html"><i class="fa fa-check"></i><b>3.7</b> Preserve a large number of linebreaks</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="formatting.html"><a href="formatting.html"><i class="fa fa-check"></i><b>4</b> Formatting</a><ul>
<li class="chapter" data-level="4.1" data-path="changing-font-colour.html"><a href="changing-font-colour.html"><i class="fa fa-check"></i><b>4.1</b> Changing Font Colour</a><ul>
<li class="chapter" data-level="4.1.1" data-path="changing-font-colour.html"><a href="changing-font-colour.html#multi-output-text-colour"><i class="fa fa-check"></i><b>4.1.1</b> Multi-output text colour</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="comment-out-content.html"><a href="comment-out-content.html"><i class="fa fa-check"></i><b>4.2</b> Comment out content</a></li>
<li class="chapter" data-level="4.3" data-path="indenting-text.html"><a href="indenting-text.html"><i class="fa fa-check"></i><b>4.3</b> Indenting text</a></li>
<li class="chapter" data-level="4.4" data-path="verbatim-code-chunks.html"><a href="verbatim-code-chunks.html"><i class="fa fa-check"></i><b>4.4</b> Verbatim code chunks</a><ul>
<li class="chapter" data-level="4.4.1" data-path="verbatim-code-chunks.html"><a href="verbatim-code-chunks.html#show-a-verbatim-inline-expression"><i class="fa fa-check"></i><b>4.4.1</b> Show a verbatim inline expression</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="latex.html"><a href="latex.html"><i class="fa fa-check"></i><b>5</b> LaTeX</a><ul>
<li class="chapter" data-level="5.1" data-path="add-logo-to-title-page.html"><a href="add-logo-to-title-page.html"><i class="fa fa-check"></i><b>5.1</b> Add logo to title page</a></li>
<li class="chapter" data-level="5.2" data-path="include-additional-latex-packages.html"><a href="include-additional-latex-packages.html"><i class="fa fa-check"></i><b>5.2</b> Include additional LaTeX packages</a><ul>
<li class="chapter" data-level="5.2.1" data-path="include-additional-latex-packages.html"><a href="include-additional-latex-packages.html#loading-latex-packages"><i class="fa fa-check"></i><b>5.2.1</b> Loading LaTeX Packages</a></li>
<li class="chapter" data-level="5.2.2" data-path="include-additional-latex-packages.html"><a href="include-additional-latex-packages.html#example-packages"><i class="fa fa-check"></i><b>5.2.2</b> Example Packages</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="controlling-the-placement-of-figures.html"><a href="controlling-the-placement-of-figures.html"><i class="fa fa-check"></i><b>5.3</b> Controlling the Placement of Figures</a><ul>
<li class="chapter" data-level="5.3.1" data-path="controlling-the-placement-of-figures.html"><a href="controlling-the-placement-of-figures.html#floats"><i class="fa fa-check"></i><b>5.3.1</b> Floats</a></li>
<li class="chapter" data-level="5.3.2" data-path="controlling-the-placement-of-figures.html"><a href="controlling-the-placement-of-figures.html#preventing-figures-floating"><i class="fa fa-check"></i><b>5.3.2</b> Preventing figures floating</a></li>
<li class="chapter" data-level="5.3.3" data-path="controlling-the-placement-of-figures.html"><a href="controlling-the-placement-of-figures.html#force-floats-forwards"><i class="fa fa-check"></i><b>5.3.3</b> Force floats forwards</a></li>
<li class="chapter" data-level="5.3.4" data-path="controlling-the-placement-of-figures.html"><a href="controlling-the-placement-of-figures.html#adjust-latex-placement-rules"><i class="fa fa-check"></i><b>5.3.4</b> Adjust LaTeX placement rules</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="add-custom-headers-and-footers.html"><a href="add-custom-headers-and-footers.html"><i class="fa fa-check"></i><b>5.4</b> Add Custom Headers and Footers</a><ul>
<li class="chapter" data-level="5.4.1" data-path="add-custom-headers-and-footers.html"><a href="add-custom-headers-and-footers.html#force-header-and-footer-for-every-page"><i class="fa fa-check"></i><b>5.4.1</b> Force Header and footer for every page</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="latex-subfigures.html"><a href="latex-subfigures.html"><i class="fa fa-check"></i><b>5.5</b> LaTeX subfigures</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="html-output.html"><a href="html-output.html"><i class="fa fa-check"></i><b>6</b> HTML Output</a><ul>
<li class="chapter" data-level="6.1" data-path="chunk-styling.html"><a href="chunk-styling.html"><i class="fa fa-check"></i><b>6.1</b> Change Chunk Styling</a><ul>
<li class="chapter" data-level="6.1.1" data-path="chunk-styling.html"><a href="chunk-styling.html#using-custom-css"><i class="fa fa-check"></i><b>6.1.1</b> Using Custom CSS</a></li>
<li class="chapter" data-level="6.1.2" data-path="chunk-styling.html"><a href="chunk-styling.html#setting-default-style-for-document"><i class="fa fa-check"></i><b>6.1.2</b> Setting Default Style for Document</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="html-scroll.html"><a href="html-scroll.html"><i class="fa fa-check"></i><b>6.2</b> Scrollable Code Chunks</a><ul>
<li class="chapter" data-level="6.2.1" data-path="html-scroll.html"><a href="html-scroll.html#overwriting-the-default-css"><i class="fa fa-check"></i><b>6.2.1</b> Overwriting the Default CSS</a></li>
<li class="chapter" data-level="6.2.2" data-path="html-scroll.html"><a href="html-scroll.html#specifing-additional-css"><i class="fa fa-check"></i><b>6.2.2</b> Specifing Additional CSS</a></li>
<li class="chapter" data-level="6.2.3" data-path="html-scroll.html"><a href="html-scroll.html#user-specified-chunk-height"><i class="fa fa-check"></i><b>6.2.3</b> User-specified chunk height</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="tabbed-headings.html"><a href="tabbed-headings.html"><i class="fa fa-check"></i><b>6.3</b> Tabbed headings</a></li>
<li class="chapter" data-level="6.4" data-path="embed-rmd.html"><a href="embed-rmd.html"><i class="fa fa-check"></i><b>6.4</b> Embed the Rmd source file in the HTML output file</a></li>
<li class="chapter" data-level="6.5" data-path="embed-file.html"><a href="embed-file.html"><i class="fa fa-check"></i><b>6.5</b> Embed arbitrary files in the HTML output file</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="multi-format-projects.html"><a href="multi-format-projects.html"><i class="fa fa-check"></i><b>7</b> Multi-format projects</a><ul>
<li class="chapter" data-level="7.1" data-path="output-specific-functions.html"><a href="output-specific-functions.html"><i class="fa fa-check"></i><b>7.1</b> Output-specific functions</a></li>
<li class="chapter" data-level="7.2" data-path="designing-output.html"><a href="designing-output.html"><i class="fa fa-check"></i><b>7.2</b> Designing output</a></li>
<li class="chapter" data-level="7.3" data-path="using-custom-blocks.html"><a href="using-custom-blocks.html"><i class="fa fa-check"></i><b>7.3</b> Using Custom Blocks</a><ul>
<li class="chapter" data-level="7.3.1" data-path="using-custom-blocks.html"><a href="using-custom-blocks.html#basic-structure"><i class="fa fa-check"></i><b>7.3.1</b> Basic Structure</a></li>
<li class="chapter" data-level="7.3.2" data-path="using-custom-blocks.html"><a href="using-custom-blocks.html#adding-a-shaded-box"><i class="fa fa-check"></i><b>7.3.2</b> Adding a Shaded Box</a></li>
<li class="chapter" data-level="7.3.3" data-path="using-custom-blocks.html"><a href="using-custom-blocks.html#including-images"><i class="fa fa-check"></i><b>7.3.3</b> Including Images</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="plotting-multiple-figures-side-by-side.html"><a href="plotting-multiple-figures-side-by-side.html"><i class="fa fa-check"></i><b>7.4</b> Plotting multiple figures side-by-side</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="word.html"><a href="word.html"><i class="fa fa-check"></i><b>8</b> Word</a></li>
<li class="chapter" data-level="9" data-path="knitr-hooks.html"><a href="knitr-hooks.html"><i class="fa fa-check"></i><b>9</b> Knitr Hooks</a><ul>
<li class="chapter" data-level="9.1" data-path="hooks-scroll.html"><a href="hooks-scroll.html"><i class="fa fa-check"></i><b>9.1</b> Scrollable code chunks</a></li>
<li class="chapter" data-level="9.2" data-path="output-figures-in-html5-format.html"><a href="output-figures-in-html5-format.html"><i class="fa fa-check"></i><b>9.2</b> Output figures in HTML5 format</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i><b>10</b> Tables</a><ul>
<li class="chapter" data-level="10.1" data-path="customising-kable-outputs.html"><a href="customising-kable-outputs.html"><i class="fa fa-check"></i><b>10.1</b> Customising kable outputs</a><ul>
<li class="chapter" data-level="10.1.1" data-path="customising-kable-outputs.html"><a href="customising-kable-outputs.html#changing-column-names"><i class="fa fa-check"></i><b>10.1.1</b> Changing column names</a></li>
<li class="chapter" data-level="10.1.2" data-path="customising-kable-outputs.html"><a href="customising-kable-outputs.html#changing-column-alignment"><i class="fa fa-check"></i><b>10.1.2</b> Changing column alignment</a></li>
<li class="chapter" data-level="10.1.3" data-path="customising-kable-outputs.html"><a href="customising-kable-outputs.html#customising-latex-options"><i class="fa fa-check"></i><b>10.1.3</b> Customising LaTeX options</a></li>
<li class="chapter" data-level="10.1.4" data-path="customising-kable-outputs.html"><a href="customising-kable-outputs.html#customising-html-table-appearance"><i class="fa fa-check"></i><b>10.1.4</b> Customising HTML table appearance</a></li>
<li class="chapter" data-level="10.1.5" data-path="customising-kable-outputs.html"><a href="customising-kable-outputs.html#changing-default-behavour"><i class="fa fa-check"></i><b>10.1.5</b> Changing default behavour</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="kableextra.html"><a href="kableextra.html"><i class="fa fa-check"></i><b>10.2</b> kableExtra</a><ul>
<li class="chapter" data-level="10.2.1" data-path="kableextra.html"><a href="kableextra.html#setup"><i class="fa fa-check"></i><b>10.2.1</b> Setup</a></li>
<li class="chapter" data-level="10.2.2" data-path="kableextra.html"><a href="kableextra.html#customising-html"><i class="fa fa-check"></i><b>10.2.2</b> Customising HTML</a></li>
<li class="chapter" data-level="10.2.3" data-path="kableextra.html"><a href="kableextra.html#customising-pdf"><i class="fa fa-check"></i><b>10.2.3</b> Customising PDF</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="tableExtensions.html"><a href="tableExtensions.html"><i class="fa fa-check"></i><b>10.3</b> Extension Packages</a><ul>
<li class="chapter" data-level="10.3.1" data-path="tableExtensions.html"><a href="tableExtensions.html#stargazer"><i class="fa fa-check"></i><b>10.3.1</b> stargazer</a></li>
<li class="chapter" data-level="10.3.2" data-path="tableExtensions.html"><a href="tableExtensions.html#gt"><i class="fa fa-check"></i><b>10.3.2</b> gt</a></li>
<li class="chapter" data-level="10.3.3" data-path="tableExtensions.html"><a href="tableExtensions.html#flextable"><i class="fa fa-check"></i><b>10.3.3</b> flextable</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="managing-big-projects.html"><a href="managing-big-projects.html"><i class="fa fa-check"></i><b>11</b> Managing Big Projects</a><ul>
<li class="chapter" data-level="11.1" data-path="sourcing-files.html"><a href="sourcing-files.html"><i class="fa fa-check"></i><b>11.1</b> Sourcing Files</a></li>
<li class="chapter" data-level="11.2" data-path="caching.html"><a href="caching.html"><i class="fa fa-check"></i><b>11.2</b> Caching</a></li>
<li class="chapter" data-level="11.3" data-path="notifications.html"><a href="notifications.html"><i class="fa fa-check"></i><b>11.3</b> Notifications</a></li>
<li class="chapter" data-level="11.4" data-path="altering-citation-style.html"><a href="altering-citation-style.html"><i class="fa fa-check"></i><b>11.4</b> Altering Citation Style</a></li>
<li class="chapter" data-level="11.5" data-path="automatically-generate-package-citations.html"><a href="automatically-generate-package-citations.html"><i class="fa fa-check"></i><b>11.5</b> Automatically Generate Package Citations</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>12</b> Workflow</a><ul>
<li class="chapter" data-level="12.1" data-path="customRender.html"><a href="customRender.html"><i class="fa fa-check"></i><b>12.1</b> Creating custom render functions</a></li>
<li class="chapter" data-level="12.2" data-path="multi-file-documents.html"><a href="multi-file-documents.html"><i class="fa fa-check"></i><b>12.2</b> Multi-file documents</a><ul>
<li class="chapter" data-level="12.2.1" data-path="multi-file-documents.html"><a href="multi-file-documents.html#child-documents"><i class="fa fa-check"></i><b>12.2.1</b> Child documents</a></li>
<li class="chapter" data-level="12.2.2" data-path="multi-file-documents.html"><a href="multi-file-documents.html#using-bookdown"><i class="fa fa-check"></i><b>12.2.2</b> Using bookdown</a></li>
<li class="chapter" data-level="12.2.3" data-path="multi-file-documents.html"><a href="multi-file-documents.html#which-method-should-you-use"><i class="fa fa-check"></i><b>12.2.3</b> Which method should you use?</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="rstudio-integration-with-r-markdown.html"><a href="rstudio-integration-with-r-markdown.html"><i class="fa fa-check"></i><b>12.3</b> RStudio integration with R Markdown</a><ul>
<li class="chapter" data-level="12.3.1" data-path="rstudio-integration-with-r-markdown.html"><a href="rstudio-integration-with-r-markdown.html#r-markdown-specific-rstudio-keyboard-shorcuts"><i class="fa fa-check"></i><b>12.3.1</b> R Markdown specific Rstudio keyboard shorcuts</a></li>
<li class="chapter" data-level="12.3.2" data-path="rstudio-integration-with-r-markdown.html"><a href="rstudio-integration-with-r-markdown.html#customising-the-knit-button"><i class="fa fa-check"></i><b>12.3.2</b> Customising the knit button</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="writing-to-file-from-an-rmd-file-with-the-cat-engine.html"><a href="writing-to-file-from-an-rmd-file-with-the-cat-engine.html"><i class="fa fa-check"></i><b>12.4</b> Writing to file from an Rmd file with the <code>cat</code> engine</a><ul>
<li class="chapter" data-level="12.4.1" data-path="writing-to-file-from-an-rmd-file-with-the-cat-engine.html"><a href="writing-to-file-from-an-rmd-file-with-the-cat-engine.html#about-the-cat-engine"><i class="fa fa-check"></i><b>12.4.1</b> About the <code>cat</code> engine</a></li>
<li class="chapter" data-level="12.4.2" data-path="writing-to-file-from-an-rmd-file-with-the-cat-engine.html"><a href="writing-to-file-from-an-rmd-file-with-the-cat-engine.html#generate-a-template-file-from-inside-the-rmarkdown"><i class="fa fa-check"></i><b>12.4.2</b> Generate a template file from inside the rmarkdown</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="diagrams.html"><a href="diagrams.html"><i class="fa fa-check"></i><b>13</b> Diagrams</a><ul>
<li class="chapter" data-level="13.1" data-path="basic-diagrams.html"><a href="basic-diagrams.html"><i class="fa fa-check"></i><b>13.1</b> Basic Diagrams</a></li>
<li class="chapter" data-level="13.2" data-path="adding-parameters-to-plots.html"><a href="adding-parameters-to-plots.html"><i class="fa fa-check"></i><b>13.2</b> Adding parameters to plots</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="knitr.html"><a href="knitr.html"><i class="fa fa-check"></i><b>14</b> Knitr</a><ul>
<li class="chapter" data-level="14.1" data-path="allow-duplicate-code-chunks.html"><a href="allow-duplicate-code-chunks.html"><i class="fa fa-check"></i><b>14.1</b> Allow duplicate code chunks</a></li>
<li class="chapter" data-level="14.2" data-path="exit-knitting-early.html"><a href="exit-knitting-early.html"><i class="fa fa-check"></i><b>14.2</b> Exit Knitting Early</a></li>
<li class="chapter" data-level="14.3" data-path="customising-knitr-options.html"><a href="customising-knitr-options.html"><i class="fa fa-check"></i><b>14.3</b> Customising knitr options</a><ul>
<li class="chapter" data-level="14.3.1" data-path="customising-knitr-options.html"><a href="customising-knitr-options.html#hide-code-and-all-outputs"><i class="fa fa-check"></i><b>14.3.1</b> Hide code and all outputs</a></li>
<li class="chapter" data-level="14.3.2" data-path="customising-knitr-options.html"><a href="customising-knitr-options.html#remove-hashes-from-code-output"><i class="fa fa-check"></i><b>14.3.2</b> Remove hashes from code output</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Markdown Cookbook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="using-custom-blocks" class="section level2">
<h2><span class="header-section-number">7.3</span> Using Custom Blocks</h2>
<!--- https://stackoverflow.com/questions/36293511/creating-custom-blocks-in-rstudios-bookdown --->
<p>Section <a href="https://bookdown.org/yihui/bookdown/custom-blocks.html">2.7</a> of <span class="citation">Xie (<a href="#ref-xie2016bookdown">2016</a>)</span> highlighted how we can use custom blocks in R Markdown to customise the appearance of sections of text. They can be a useful way to make some text stand out from your reports or books, and are a great way to make sure that your readers take away the key points from your work. As some examples of how these could be used:</p>
<ul>
<li>Add a warning to let users know to make sure users are using up-to-date packages before running your analysis:</li>
<li>Add a link at the start of your document to your GitHub repository containing code:</li>
<li>To highlight key results and findings from your analysis:</li>
</ul>
<p>In this section, we will explain how to create your own custom blocks for both PDF and HTML outputs. They can both use the same formatting within the R Markdown document, but require slight different configurations in your project for this to work. You may wish to explore the <a href="https://github.com/dr-harper/customBlocks">customBlocks</a> repository on GitHub which provides a minimal example of the code highlighted in this section.</p>
<div id="basic-structure" class="section level3">
<h3><span class="header-section-number">7.3.1</span> Basic Structure</h3>
<p>We can generate a custom block using either the <code>block2</code> engine in <strong>knitr</strong>. We must also specify the chunk option <code>type</code>, which specifies the class of the <code>&lt;div&gt;</code> and the name of the LaTeX environment. For example:</p>
<pre><code>```{block, type=&#39;FOO&#39;}
Some text for this block.
```</code></pre>
<p>It is up to the user to define their own <code>&lt;div&gt;</code> in CSS for the HTML output, or <code>\newenvironment</code> in LaTeX for PDF outputs. These customisations will normally be contained in their own files such as <code>style.css</code> or <code>preamble.tex</code>, and then included within the YAML options:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb67-1" data-line-number="1"><span class="ot">---</span></a>
<a class="sourceLine" id="cb67-2" data-line-number="2"><span class="fu">output:</span></a>
<a class="sourceLine" id="cb67-3" data-line-number="3">  <span class="fu">bookdown:</span><span class="at">:html_book:</span></a>
<a class="sourceLine" id="cb67-4" data-line-number="4">    <span class="fu">css:</span><span class="at"> style.css</span></a>
<a class="sourceLine" id="cb67-5" data-line-number="5">  <span class="fu">bookdown:</span><span class="at">:pdf_book:</span></a>
<a class="sourceLine" id="cb67-6" data-line-number="6">    <span class="fu">includes:</span></a>
<a class="sourceLine" id="cb67-7" data-line-number="7">      <span class="fu">in_header:</span><span class="at"> preamble.tex</span></a>
<a class="sourceLine" id="cb67-8" data-line-number="8"><span class="ot">---</span></a></code></pre></div>
<p>With this basic setup, we will demonstrate several custom blocks that we can be used to create custom blocks for your work.</p>
</div>
<div id="adding-a-shaded-box" class="section level3">
<h3><span class="header-section-number">7.3.2</span> Adding a Shaded Box</h3>
<p>First we will highlight how we can add a shaded box for our content. Both HTML and PDF outputs allow for quite a lot of customisation of our custom blocks, and it should allow you to sufficient choice in customising the styles to match if you would like consistency across your outputs.</p>
<p>For the HTML output, we will specify our custom class in the <code>style.css</code> file. If you are unfamiliar with CSS, you may want to search for options <a href="https://www.w3schools.com/cssref/default.asp">using this link</a> to see what we can easily control. For example, we create a greyed out box with a red border, adding curved corners to the box:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode css css"><code class="sourceCode css"><a class="sourceLine" id="cb68-1" data-line-number="1"><span class="fu">.customBlock</span> {</a>
<a class="sourceLine" id="cb68-2" data-line-number="2">  <span class="kw">padding</span>: <span class="dv">1em</span> <span class="dv">1em</span> <span class="dv">1em</span> <span class="dv">1em</span>;</a>
<a class="sourceLine" id="cb68-3" data-line-number="3">  <span class="kw">margin-bottom</span>: <span class="dv">10px</span>;</a>
<a class="sourceLine" id="cb68-4" data-line-number="4">  <span class="kw">background</span>: <span class="dv">#F8F9F9</span>;</a>
<a class="sourceLine" id="cb68-5" data-line-number="5">  <span class="kw">border-color</span>: <span class="dv">#A93226</span>;</a>
<a class="sourceLine" id="cb68-6" data-line-number="6">  <span class="kw">border-style</span>: <span class="dv">solid</span>;</a>
<a class="sourceLine" id="cb68-7" data-line-number="7">  <span class="kw">border-radius</span>: <span class="dv">10px</span>;</a>
<a class="sourceLine" id="cb68-8" data-line-number="8">  <span class="kw">border-width</span>: <span class="dv">thin</span>;</a>
<a class="sourceLine" id="cb68-9" data-line-number="9">}</a></code></pre></div>
<p>For the LaTeX output, we will add our custom block to the <code>preamble.tex</code> file. We will use use the <strong>tcolorbox</strong> LaTeX package, which offers quite a flexible set of options for creating shaded boxes, as detailed within the <a href="hhttp://ftp.cc.uoc.gr/mirrors/CTAN/macros/latex/contrib/tcolorbox/tcolorbox.pdf">package documentation</a>. Below, we create a new environment called <code>customBlock</code>, with a similar design of that outlined above:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode latex latex"><code class="sourceCode latex"><a class="sourceLine" id="cb69-1" data-line-number="1"><span class="bu">\usepackage</span>{<span class="ex">tcolorbox</span>}</a>
<a class="sourceLine" id="cb69-2" data-line-number="2"><span class="bu">\usepackage</span>{<span class="ex">tikz</span>}</a>
<a class="sourceLine" id="cb69-3" data-line-number="3"><span class="fu">\usetikzlibrary</span>{calc}</a>
<a class="sourceLine" id="cb69-4" data-line-number="4"></a>
<a class="sourceLine" id="cb69-5" data-line-number="5"><span class="co">% Define the colours to match the CSS above</span></a>
<a class="sourceLine" id="cb69-6" data-line-number="6"><span class="fu">\definecolor</span>{background}{HTML}{F8F9F9}</a>
<a class="sourceLine" id="cb69-7" data-line-number="7"><span class="fu">\definecolor</span>{border}{HTML}{A93226}</a>
<a class="sourceLine" id="cb69-8" data-line-number="8"></a>
<a class="sourceLine" id="cb69-9" data-line-number="9"><span class="co">% Create our custom box</span></a>
<a class="sourceLine" id="cb69-10" data-line-number="10"><span class="fu">\newtcolorbox</span>{customBlock}{</a>
<a class="sourceLine" id="cb69-11" data-line-number="11">  colback = background,</a>
<a class="sourceLine" id="cb69-12" data-line-number="12">  colframe = border,</a>
<a class="sourceLine" id="cb69-13" data-line-number="13">  boxsep=5pt,</a>
<a class="sourceLine" id="cb69-14" data-line-number="14">  arc=4pt}</a></code></pre></div>
<p>By using the chunk header <code>{block2, type = &quot;customBlock&quot;}</code>, we can now use our custom block design in both PDF and HTML output formats. This is shown as follows:</p>

<div class="customBlock">
Look at our custom block!
</div>

</div>
<div id="including-images" class="section level3">
<h3><span class="header-section-number">7.3.3</span> Including Images</h3>
<p>We can make custom blocks even more visually appealing by including images in them, and it can be an effective way to convey the content of the block. For the following examples, we will assume we are working within a directory below which is a simplified version what is used to build the book:</p>
<pre><code>directory/
├── yourReport.Rmd
├── style.css
├── preamble.tex
└── images/ 
      └── icons/
            └── ├── important.png
                ├── note.png
                └── caution.png</code></pre>
<p>For the HTML output, we can add an image to the box by adding <code>background-image</code>. The image is inserted into the background, and the padding is offset on the right-hand side to avoid the text overlapping this image. If you are using local images, the file path to the images is provided relative to the CSS file. For example:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb71-1" data-line-number="1"><span class="fu">.rmdcaution</span>{</a>
<a class="sourceLine" id="cb71-2" data-line-number="2">  <span class="kw">padding</span>: <span class="dv">1em</span> <span class="dv">1em</span> <span class="dv">1em</span> <span class="dv">4em</span>;</a>
<a class="sourceLine" id="cb71-3" data-line-number="3">  <span class="kw">margin-bottom</span>: <span class="dv">10px</span>;</a>
<a class="sourceLine" id="cb71-4" data-line-number="4">  <span class="kw">background</span>: <span class="dv">#f5f5f5</span> <span class="dv">5px</span> <span class="dv">center</span>/<span class="dv">3em</span> <span class="dv">no-repeat</span>;</a>
<a class="sourceLine" id="cb71-5" data-line-number="5">  <span class="kw">background-image</span>: <span class="fu">url</span>(<span class="st">&quot;images/icons/caution.png&quot;</span>);</a>
<a class="sourceLine" id="cb71-6" data-line-number="6">}</a></code></pre></div>
<p>If you want to have a consistent styled box but have different icons, we can globally assign the CSS style to several custom blocks and then add the image for each block seperately. This approach is used within the <a href="https://github.com/dr-harper/rmarkdown-cookbook/blob/master/style.css#L1-L20">source code of this book</a>, as we can define multiple styles without repeating the same basic formatting, as follows:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb72-1" data-line-number="1"><span class="fu">.rmdcaution</span>, <span class="fu">.rmdimportant</span>, <span class="fu">.rmdnote</span>, <span class="fu">.rmdtip</span>, <span class="fu">.rmdwarning</span> {</a>
<a class="sourceLine" id="cb72-2" data-line-number="2">  <span class="kw">padding</span>: <span class="dv">1em</span> <span class="dv">1em</span> <span class="dv">1em</span> <span class="dv">4em</span>;</a>
<a class="sourceLine" id="cb72-3" data-line-number="3">  <span class="kw">margin-bottom</span>: <span class="dv">10px</span>;</a>
<a class="sourceLine" id="cb72-4" data-line-number="4">  <span class="kw">background</span>: <span class="dv">#f5f5f5</span> <span class="dv">5px</span> <span class="dv">center</span>/<span class="dv">3em</span> <span class="dv">no-repeat</span>;</a>
<a class="sourceLine" id="cb72-5" data-line-number="5">}</a>
<a class="sourceLine" id="cb72-6" data-line-number="6"><span class="fu">.rmdcaution</span> {</a>
<a class="sourceLine" id="cb72-7" data-line-number="7">  <span class="kw">background-image</span>: <span class="fu">url</span>(<span class="st">&quot;images/icons/caution.png&quot;</span>);</a>
<a class="sourceLine" id="cb72-8" data-line-number="8">}</a>
<a class="sourceLine" id="cb72-9" data-line-number="9"><span class="fu">.rmdimportant</span> {</a>
<a class="sourceLine" id="cb72-10" data-line-number="10">  <span class="kw">background-image</span>: <span class="fu">url</span>(<span class="st">&quot;images/icons/important.png&quot;</span>);</a>
<a class="sourceLine" id="cb72-11" data-line-number="11">}</a></code></pre></div>
<p>For the PDF output, we can adapt the <strong>tcolorbox</strong> code shown above to add the image to the left side of the box, whereby some slight adjustments are made to offset the text from the left and to insert the image into the box. As for the HTML, if we want to create multiple custom blocks of a similar style, it is generally more useful to make a more general function which can be used to create each block. Below, we demonstrate the use of this, where a new environment <code>customBlockImage</code> is created which is then used to build our final environments that we wish to use in our report (<code>rmdnote</code>, <code>rmdimportant</code>):</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode latex"><code class="sourceCode latex"><a class="sourceLine" id="cb73-1" data-line-number="1"><span class="co">% Create our general design</span></a>
<a class="sourceLine" id="cb73-2" data-line-number="2"><span class="fu">\newtcolorbox</span>{customBlockImage}[2][]{</a>
<a class="sourceLine" id="cb73-3" data-line-number="3">  enhanced,</a>
<a class="sourceLine" id="cb73-4" data-line-number="4">  top=10pt,</a>
<a class="sourceLine" id="cb73-5" data-line-number="5">  bottom=10pt,</a>
<a class="sourceLine" id="cb73-6" data-line-number="6">  colframe = white,</a>
<a class="sourceLine" id="cb73-7" data-line-number="7">  width=<span class="fu">\textwidth</span>,</a>
<a class="sourceLine" id="cb73-8" data-line-number="8">  boxsep=5pt,</a>
<a class="sourceLine" id="cb73-9" data-line-number="9">  arc=4pt,</a>
<a class="sourceLine" id="cb73-10" data-line-number="10">  outer arc=4pt,</a>
<a class="sourceLine" id="cb73-11" data-line-number="11">  leftupper=1.5cm,</a>
<a class="sourceLine" id="cb73-12" data-line-number="12">overlay={</a>
<a class="sourceLine" id="cb73-13" data-line-number="13">    <span class="fu">\node</span>[anchor=west] </a>
<a class="sourceLine" id="cb73-14" data-line-number="14">      at ([xshift=10pt] <span class="ss">$ (interior.north west)!0.5!(interior.south west) $</span> )</a>
<a class="sourceLine" id="cb73-15" data-line-number="15">       {{<span class="fu">\setkeys</span>{Gin}{width=3em,keepaspectratio}<span class="bu">\includegraphics</span>{<span class="ex">#2</span>}}};},</a>
<a class="sourceLine" id="cb73-16" data-line-number="16">#1}</a>
<a class="sourceLine" id="cb73-17" data-line-number="17">    </a>
<a class="sourceLine" id="cb73-18" data-line-number="18"> <span class="co">% Create the new environments for R Markdown</span></a>
<a class="sourceLine" id="cb73-19" data-line-number="19"><span class="fu">\newenvironment</span>{rmdnote}</a>
<a class="sourceLine" id="cb73-20" data-line-number="20">  {<span class="kw">\begin</span>{<span class="ex">customBlockImage</span>}{images/note}}</a>
<a class="sourceLine" id="cb73-21" data-line-number="21">  {<span class="kw">\end</span>{<span class="ex">customBlockImage</span>}}</a>
<a class="sourceLine" id="cb73-22" data-line-number="22">  </a>
<a class="sourceLine" id="cb73-23" data-line-number="23"><span class="fu">\newenvironment</span>{rmdimportant}</a>
<a class="sourceLine" id="cb73-24" data-line-number="24">  {<span class="kw">\begin</span>{<span class="ex">customBlockImage</span>}{images/important}}</a>
<a class="sourceLine" id="cb73-25" data-line-number="25">  {<span class="kw">\end</span>{<span class="ex">customBlockImage</span>}}</a>
<a class="sourceLine" id="cb73-26" data-line-number="26">         </a>
<a class="sourceLine" id="cb73-27" data-line-number="27"><span class="co">% We can also change the colour of the box</span></a>
<a class="sourceLine" id="cb73-28" data-line-number="28"><span class="fu">\newenvironment</span>{rmdwarning}</a>
<a class="sourceLine" id="cb73-29" data-line-number="29">  {<span class="kw">\begin</span>{<span class="ex">customBlockImage</span>}[colback=red]{images/important}}</a>
<a class="sourceLine" id="cb73-30" data-line-number="30">  {<span class="kw">\end</span>{<span class="ex">customBlockImage</span>}}</a></code></pre></div>
<p>Again, we have designed an output which should be consistent across HTML and PDF outputs. Below we show the output of the <code>rmdnote</code> custom block:</p>

<div class="rmdnote">
This is the rmdnote custom block
</div>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-xie2016bookdown">
<p>Xie, Y. 2016. <em>Bookdown: Authoring Books and Technical Documents with R Markdown</em>. Chapman &amp; Hall/Crc the R Series. CRC Press. <a href="https://bookdown.org/yihui/bookdown/">https://bookdown.org/yihui/bookdown/</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="designing-output.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="plotting-multiple-figures-side-by-side.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/dr-harper/rmarkdown-cookbook/edit/master/07-multiformat.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
