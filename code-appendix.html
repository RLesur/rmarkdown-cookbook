<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.8 Put together all code in the appendix | R Markdown Cookbook</title>
  <meta name="description" content="Examples, tips, and tricks of using R Markdown." />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="3.8 Put together all code in the appendix | R Markdown Cookbook" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Examples, tips, and tricks of using R Markdown." />
  <meta name="github-repo" content="dr-harper/rmarkdown-cookbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.8 Put together all code in the appendix | R Markdown Cookbook" />
  
  <meta name="twitter:description" content="Examples, tips, and tricks of using R Markdown." />
  

<meta name="author" content="Michael Harper, Yihui Xie" />


<meta name="date" content="2019-09-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="linebreaks.html"/>
<link rel="next" href="formatting.html"/>
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<script src="libs/viz/viz.js"></script>
<link href="libs/DiagrammeR-styles/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding/grViz.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/customBlock.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Markdown Cookbook</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="how-to-read-this-book.html"><a href="how-to-read-this-book.html"><i class="fa fa-check"></i>How to read this book</a></li>
<li class="chapter" data-level="" data-path="structure-of-the-book.html"><a href="structure-of-the-book.html"><i class="fa fa-check"></i>Structure of the book</a></li>
<li class="chapter" data-level="" data-path="software-info.html"><a href="software-info.html"><i class="fa fa-check"></i>Software information and conventions</a></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="author.html"><a href="author.html"><i class="fa fa-check"></i>About the Authors</a></li>
<li class="chapter" data-level="1" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>1</b> Installation</a><ul>
<li class="chapter" data-level="1.1" data-path="install-latex.html"><a href="install-latex.html"><i class="fa fa-check"></i><b>1.1</b> Install LaTeX for PDF reports</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>2</b> Basics</a><ul>
<li class="chapter" data-level="2.1" data-path="r-markdown-components.html"><a href="r-markdown-components.html"><i class="fa fa-check"></i><b>2.1</b> R Markdown components</a></li>
<li class="chapter" data-level="2.2" data-path="spin.html"><a href="spin.html"><i class="fa fa-check"></i><b>2.2</b> Render an R script to a report</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="document-elements.html"><a href="document-elements.html"><i class="fa fa-check"></i><b>3</b> Document Elements</a><ul>
<li class="chapter" data-level="3.1" data-path="bibliographies-and-citations.html"><a href="bibliographies-and-citations.html"><i class="fa fa-check"></i><b>3.1</b> Bibliographies and citations</a><ul>
<li class="chapter" data-level="3.1.1" data-path="bibliographies-and-citations.html"><a href="bibliographies-and-citations.html#changing-citation-style"><i class="fa fa-check"></i><b>3.1.1</b> Changing citation style</a></li>
<li class="chapter" data-level="3.1.2" data-path="bibliographies-and-citations.html"><a href="bibliographies-and-citations.html#add-item-to-bibliography-without-using-it"><i class="fa fa-check"></i><b>3.1.2</b> Add item to bibliography without using it</a></li>
<li class="chapter" data-level="3.1.3" data-path="bibliographies-and-citations.html"><a href="bibliographies-and-citations.html#add-all-items-to-bibliography"><i class="fa fa-check"></i><b>3.1.3</b> Add all items to bibliography</a></li>
<li class="chapter" data-level="3.1.4" data-path="bibliographies-and-citations.html"><a href="bibliographies-and-citations.html#include-appendix-after-bibliography"><i class="fa fa-check"></i><b>3.1.4</b> Include appendix after bibliography</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="crossRef.html"><a href="crossRef.html"><i class="fa fa-check"></i><b>3.2</b> Cross-referencing within documents</a></li>
<li class="chapter" data-level="3.3" data-path="automatically-update-document-date.html"><a href="automatically-update-document-date.html"><i class="fa fa-check"></i><b>3.3</b> Automatically update document date</a></li>
<li class="chapter" data-level="3.4" data-path="adding-multiple-authors-to-document.html"><a href="adding-multiple-authors-to-document.html"><i class="fa fa-check"></i><b>3.4</b> Adding multiple authors to document</a></li>
<li class="chapter" data-level="3.5" data-path="adding-numbered-figure-captions.html"><a href="adding-numbered-figure-captions.html"><i class="fa fa-check"></i><b>3.5</b> Adding numbered figure captions</a></li>
<li class="chapter" data-level="3.6" data-path="combine-words-into-a-comma-separated-phrase.html"><a href="combine-words-into-a-comma-separated-phrase.html"><i class="fa fa-check"></i><b>3.6</b> Combine words into a comma-separated phrase</a></li>
<li class="chapter" data-level="3.7" data-path="linebreaks.html"><a href="linebreaks.html"><i class="fa fa-check"></i><b>3.7</b> Preserve a large number of linebreaks</a></li>
<li class="chapter" data-level="3.8" data-path="code-appendix.html"><a href="code-appendix.html"><i class="fa fa-check"></i><b>3.8</b> Put together all code in the appendix</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="formatting.html"><a href="formatting.html"><i class="fa fa-check"></i><b>4</b> Formatting</a><ul>
<li class="chapter" data-level="4.1" data-path="changing-font-colour.html"><a href="changing-font-colour.html"><i class="fa fa-check"></i><b>4.1</b> Changing Font Colour</a><ul>
<li class="chapter" data-level="4.1.1" data-path="changing-font-colour.html"><a href="changing-font-colour.html#multi-output-text-colour"><i class="fa fa-check"></i><b>4.1.1</b> Multi-output text colour</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="comment-out-content.html"><a href="comment-out-content.html"><i class="fa fa-check"></i><b>4.2</b> Comment out content</a></li>
<li class="chapter" data-level="4.3" data-path="indenting-text.html"><a href="indenting-text.html"><i class="fa fa-check"></i><b>4.3</b> Indenting text</a></li>
<li class="chapter" data-level="4.4" data-path="verbatim-code-chunks.html"><a href="verbatim-code-chunks.html"><i class="fa fa-check"></i><b>4.4</b> Verbatim code chunks</a><ul>
<li class="chapter" data-level="4.4.1" data-path="verbatim-code-chunks.html"><a href="verbatim-code-chunks.html#show-a-verbatim-inline-expression"><i class="fa fa-check"></i><b>4.4.1</b> Show a verbatim inline expression</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="multi-column-layout.html"><a href="multi-column-layout.html"><i class="fa fa-check"></i><b>4.5</b> Multi-column layout</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="latex.html"><a href="latex.html"><i class="fa fa-check"></i><b>5</b> LaTeX</a><ul>
<li class="chapter" data-level="5.1" data-path="latex-preamble.html"><a href="latex-preamble.html"><i class="fa fa-check"></i><b>5.1</b> Add LaTeX code to the preamble</a></li>
<li class="chapter" data-level="5.2" data-path="latex-logo.html"><a href="latex-logo.html"><i class="fa fa-check"></i><b>5.2</b> Add logo to title page</a></li>
<li class="chapter" data-level="5.3" data-path="latex-extra.html"><a href="latex-extra.html"><i class="fa fa-check"></i><b>5.3</b> Include additional LaTeX packages</a><ul>
<li class="chapter" data-level="5.3.1" data-path="latex-extra.html"><a href="latex-extra.html#loading-latex-packages"><i class="fa fa-check"></i><b>5.3.1</b> Loading LaTeX packages</a></li>
<li class="chapter" data-level="5.3.2" data-path="latex-extra.html"><a href="latex-extra.html#example-packages"><i class="fa fa-check"></i><b>5.3.2</b> Example packages</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="figure-placement.html"><a href="figure-placement.html"><i class="fa fa-check"></i><b>5.4</b> Control the placement of figures</a><ul>
<li class="chapter" data-level="5.4.1" data-path="figure-placement.html"><a href="figure-placement.html#floating-environments"><i class="fa fa-check"></i><b>5.4.1</b> Floating environments</a></li>
<li class="chapter" data-level="5.4.2" data-path="figure-placement.html"><a href="figure-placement.html#prevent-figures-from-floating"><i class="fa fa-check"></i><b>5.4.2</b> Prevent figures from floating</a></li>
<li class="chapter" data-level="5.4.3" data-path="figure-placement.html"><a href="figure-placement.html#force-floats-forwards"><i class="fa fa-check"></i><b>5.4.3</b> Force floats forwards</a></li>
<li class="chapter" data-level="5.4.4" data-path="figure-placement.html"><a href="figure-placement.html#adjust-latex-placement-rules"><i class="fa fa-check"></i><b>5.4.4</b> Adjust LaTeX placement rules</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="latex-header.html"><a href="latex-header.html"><i class="fa fa-check"></i><b>5.5</b> Add custom headers and footers</a></li>
<li class="chapter" data-level="5.6" data-path="latex-subfigure.html"><a href="latex-subfigure.html"><i class="fa fa-check"></i><b>5.6</b> LaTeX sub-figures</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="html-output.html"><a href="html-output.html"><i class="fa fa-check"></i><b>6</b> HTML Output</a><ul>
<li class="chapter" data-level="6.1" data-path="chunk-styling.html"><a href="chunk-styling.html"><i class="fa fa-check"></i><b>6.1</b> Change Chunk Styling</a><ul>
<li class="chapter" data-level="6.1.1" data-path="chunk-styling.html"><a href="chunk-styling.html#using-custom-css"><i class="fa fa-check"></i><b>6.1.1</b> Using Custom CSS</a></li>
<li class="chapter" data-level="6.1.2" data-path="chunk-styling.html"><a href="chunk-styling.html#setting-default-style-for-document"><i class="fa fa-check"></i><b>6.1.2</b> Setting Default Style for Document</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="html-scroll.html"><a href="html-scroll.html"><i class="fa fa-check"></i><b>6.2</b> Scrollable Code Chunks</a><ul>
<li class="chapter" data-level="6.2.1" data-path="html-scroll.html"><a href="html-scroll.html#overwriting-the-default-css"><i class="fa fa-check"></i><b>6.2.1</b> Overwriting the Default CSS</a></li>
<li class="chapter" data-level="6.2.2" data-path="html-scroll.html"><a href="html-scroll.html#specifing-additional-css"><i class="fa fa-check"></i><b>6.2.2</b> Specifing Additional CSS</a></li>
<li class="chapter" data-level="6.2.3" data-path="html-scroll.html"><a href="html-scroll.html#user-specified-chunk-height"><i class="fa fa-check"></i><b>6.2.3</b> User-specified chunk height</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="tabbed-headings.html"><a href="tabbed-headings.html"><i class="fa fa-check"></i><b>6.3</b> Tabbed headings</a></li>
<li class="chapter" data-level="6.4" data-path="embed-rmd.html"><a href="embed-rmd.html"><i class="fa fa-check"></i><b>6.4</b> Embed the Rmd source file in the HTML output file</a></li>
<li class="chapter" data-level="6.5" data-path="embed-file.html"><a href="embed-file.html"><i class="fa fa-check"></i><b>6.5</b> Embed arbitrary files in the HTML output file</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="multi-format-projects.html"><a href="multi-format-projects.html"><i class="fa fa-check"></i><b>7</b> Multi-format projects</a><ul>
<li class="chapter" data-level="7.1" data-path="output-specific-functions.html"><a href="output-specific-functions.html"><i class="fa fa-check"></i><b>7.1</b> Output-specific functions</a></li>
<li class="chapter" data-level="7.2" data-path="designing-output.html"><a href="designing-output.html"><i class="fa fa-check"></i><b>7.2</b> Designing output</a></li>
<li class="chapter" data-level="7.3" data-path="using-custom-blocks.html"><a href="using-custom-blocks.html"><i class="fa fa-check"></i><b>7.3</b> Using Custom Blocks</a><ul>
<li class="chapter" data-level="7.3.1" data-path="using-custom-blocks.html"><a href="using-custom-blocks.html#basic-structure"><i class="fa fa-check"></i><b>7.3.1</b> Basic Structure</a></li>
<li class="chapter" data-level="7.3.2" data-path="using-custom-blocks.html"><a href="using-custom-blocks.html#adding-a-shaded-box"><i class="fa fa-check"></i><b>7.3.2</b> Adding a Shaded Box</a></li>
<li class="chapter" data-level="7.3.3" data-path="using-custom-blocks.html"><a href="using-custom-blocks.html#including-images"><i class="fa fa-check"></i><b>7.3.3</b> Including Images</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="plotting-multiple-figures-side-by-side.html"><a href="plotting-multiple-figures-side-by-side.html"><i class="fa fa-check"></i><b>7.4</b> Plotting multiple figures side-by-side</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="word.html"><a href="word.html"><i class="fa fa-check"></i><b>8</b> Word</a></li>
<li class="chapter" data-level="9" data-path="knitr-hooks.html"><a href="knitr-hooks.html"><i class="fa fa-check"></i><b>9</b> Knitr Hooks</a><ul>
<li class="chapter" data-level="9.1" data-path="hooks-scroll.html"><a href="hooks-scroll.html"><i class="fa fa-check"></i><b>9.1</b> Scrollable code chunks</a></li>
<li class="chapter" data-level="9.2" data-path="output-figures-in-html5-format.html"><a href="output-figures-in-html5-format.html"><i class="fa fa-check"></i><b>9.2</b> Output figures in HTML5 format</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i><b>10</b> Tables</a><ul>
<li class="chapter" data-level="10.1" data-path="customising-kable-outputs.html"><a href="customising-kable-outputs.html"><i class="fa fa-check"></i><b>10.1</b> Customising kable outputs</a><ul>
<li class="chapter" data-level="10.1.1" data-path="customising-kable-outputs.html"><a href="customising-kable-outputs.html#changing-column-names"><i class="fa fa-check"></i><b>10.1.1</b> Changing column names</a></li>
<li class="chapter" data-level="10.1.2" data-path="customising-kable-outputs.html"><a href="customising-kable-outputs.html#changing-column-alignment"><i class="fa fa-check"></i><b>10.1.2</b> Changing column alignment</a></li>
<li class="chapter" data-level="10.1.3" data-path="customising-kable-outputs.html"><a href="customising-kable-outputs.html#customising-latex-options"><i class="fa fa-check"></i><b>10.1.3</b> Customising LaTeX options</a></li>
<li class="chapter" data-level="10.1.4" data-path="customising-kable-outputs.html"><a href="customising-kable-outputs.html#customising-html-table-appearance"><i class="fa fa-check"></i><b>10.1.4</b> Customising HTML table appearance</a></li>
<li class="chapter" data-level="10.1.5" data-path="customising-kable-outputs.html"><a href="customising-kable-outputs.html#changing-default-behavour"><i class="fa fa-check"></i><b>10.1.5</b> Changing default behavour</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="kableextra.html"><a href="kableextra.html"><i class="fa fa-check"></i><b>10.2</b> kableExtra</a><ul>
<li class="chapter" data-level="10.2.1" data-path="kableextra.html"><a href="kableextra.html#setup"><i class="fa fa-check"></i><b>10.2.1</b> Setup</a></li>
<li class="chapter" data-level="10.2.2" data-path="kableextra.html"><a href="kableextra.html#customising-html"><i class="fa fa-check"></i><b>10.2.2</b> Customising HTML</a></li>
<li class="chapter" data-level="10.2.3" data-path="kableextra.html"><a href="kableextra.html#customising-pdf"><i class="fa fa-check"></i><b>10.2.3</b> Customising PDF</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="tableExtensions.html"><a href="tableExtensions.html"><i class="fa fa-check"></i><b>10.3</b> Extension Packages</a><ul>
<li class="chapter" data-level="10.3.1" data-path="tableExtensions.html"><a href="tableExtensions.html#stargazer"><i class="fa fa-check"></i><b>10.3.1</b> stargazer</a></li>
<li class="chapter" data-level="10.3.2" data-path="tableExtensions.html"><a href="tableExtensions.html#gt"><i class="fa fa-check"></i><b>10.3.2</b> gt</a></li>
<li class="chapter" data-level="10.3.3" data-path="tableExtensions.html"><a href="tableExtensions.html#flextable"><i class="fa fa-check"></i><b>10.3.3</b> flextable</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="managing-big-projects.html"><a href="managing-big-projects.html"><i class="fa fa-check"></i><b>11</b> Managing Big Projects</a><ul>
<li class="chapter" data-level="11.1" data-path="sourcing-files.html"><a href="sourcing-files.html"><i class="fa fa-check"></i><b>11.1</b> Sourcing Files</a></li>
<li class="chapter" data-level="11.2" data-path="caching.html"><a href="caching.html"><i class="fa fa-check"></i><b>11.2</b> Caching</a></li>
<li class="chapter" data-level="11.3" data-path="notifications.html"><a href="notifications.html"><i class="fa fa-check"></i><b>11.3</b> Notifications</a></li>
<li class="chapter" data-level="11.4" data-path="altering-citation-style.html"><a href="altering-citation-style.html"><i class="fa fa-check"></i><b>11.4</b> Altering Citation Style</a></li>
<li class="chapter" data-level="11.5" data-path="automatically-generate-package-citations.html"><a href="automatically-generate-package-citations.html"><i class="fa fa-check"></i><b>11.5</b> Automatically Generate Package Citations</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>12</b> Workflow</a><ul>
<li class="chapter" data-level="12.1" data-path="customRender.html"><a href="customRender.html"><i class="fa fa-check"></i><b>12.1</b> Creating custom render functions</a></li>
<li class="chapter" data-level="12.2" data-path="multi-file-documents.html"><a href="multi-file-documents.html"><i class="fa fa-check"></i><b>12.2</b> Multi-file documents</a><ul>
<li class="chapter" data-level="12.2.1" data-path="multi-file-documents.html"><a href="multi-file-documents.html#child-documents"><i class="fa fa-check"></i><b>12.2.1</b> Child documents</a></li>
<li class="chapter" data-level="12.2.2" data-path="multi-file-documents.html"><a href="multi-file-documents.html#using-bookdown"><i class="fa fa-check"></i><b>12.2.2</b> Using bookdown</a></li>
<li class="chapter" data-level="12.2.3" data-path="multi-file-documents.html"><a href="multi-file-documents.html#which-method-should-you-use"><i class="fa fa-check"></i><b>12.2.3</b> Which method should you use?</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="rstudio-integration-with-r-markdown.html"><a href="rstudio-integration-with-r-markdown.html"><i class="fa fa-check"></i><b>12.3</b> RStudio integration with R Markdown</a><ul>
<li class="chapter" data-level="12.3.1" data-path="rstudio-integration-with-r-markdown.html"><a href="rstudio-integration-with-r-markdown.html#r-markdown-specific-rstudio-keyboard-shorcuts"><i class="fa fa-check"></i><b>12.3.1</b> R Markdown specific Rstudio keyboard shorcuts</a></li>
<li class="chapter" data-level="12.3.2" data-path="rstudio-integration-with-r-markdown.html"><a href="rstudio-integration-with-r-markdown.html#customising-the-knit-button"><i class="fa fa-check"></i><b>12.3.2</b> Customising the knit button</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="writing-to-file-from-an-rmd-file-with-the-cat-engine.html"><a href="writing-to-file-from-an-rmd-file-with-the-cat-engine.html"><i class="fa fa-check"></i><b>12.4</b> Writing to file from an Rmd file with the <code>cat</code> engine</a><ul>
<li class="chapter" data-level="12.4.1" data-path="writing-to-file-from-an-rmd-file-with-the-cat-engine.html"><a href="writing-to-file-from-an-rmd-file-with-the-cat-engine.html#about-the-cat-engine"><i class="fa fa-check"></i><b>12.4.1</b> About the <code>cat</code> engine</a></li>
<li class="chapter" data-level="12.4.2" data-path="writing-to-file-from-an-rmd-file-with-the-cat-engine.html"><a href="writing-to-file-from-an-rmd-file-with-the-cat-engine.html#generate-a-template-file-from-inside-the-rmarkdown"><i class="fa fa-check"></i><b>12.4.2</b> Generate a template file from inside the rmarkdown</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="diagrams.html"><a href="diagrams.html"><i class="fa fa-check"></i><b>13</b> Diagrams</a><ul>
<li class="chapter" data-level="13.1" data-path="basic-diagrams.html"><a href="basic-diagrams.html"><i class="fa fa-check"></i><b>13.1</b> Basic Diagrams</a></li>
<li class="chapter" data-level="13.2" data-path="adding-parameters-to-plots.html"><a href="adding-parameters-to-plots.html"><i class="fa fa-check"></i><b>13.2</b> Adding parameters to plots</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="knitr.html"><a href="knitr.html"><i class="fa fa-check"></i><b>14</b> Knitr</a><ul>
<li class="chapter" data-level="14.1" data-path="using-knitr-options.html"><a href="using-knitr-options.html"><i class="fa fa-check"></i><b>14.1</b> Using knitr options</a><ul>
<li class="chapter" data-level="14.1.1" data-path="using-knitr-options.html"><a href="using-knitr-options.html#hide-code-and-all-outputs"><i class="fa fa-check"></i><b>14.1.1</b> Hide code and all outputs</a></li>
<li class="chapter" data-level="14.1.2" data-path="using-knitr-options.html"><a href="using-knitr-options.html#remove-leading-hashes-in-text-output"><i class="fa fa-check"></i><b>14.1.2</b> Remove leading hashes in text output</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="exit-knitting-early.html"><a href="exit-knitting-early.html"><i class="fa fa-check"></i><b>14.2</b> Exit knitting early</a></li>
<li class="chapter" data-level="14.3" data-path="generate-a-plot-and-display-it-elsewhere.html"><a href="generate-a-plot-and-display-it-elsewhere.html"><i class="fa fa-check"></i><b>14.3</b> Generate a plot and display it elsewhere</a></li>
<li class="chapter" data-level="14.4" data-path="allow-duplicate-labels-in-code-chunks.html"><a href="allow-duplicate-labels-in-code-chunks.html"><i class="fa fa-check"></i><b>14.4</b> Allow duplicate labels in code chunks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Markdown Cookbook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="code-appendix" class="section level2">
<h2><span class="header-section-number">3.8</span> Put together all code in the appendix</h2>
<p>Unless the target readers are highly interested in the computational details while they read a report, you may not want to show the source code blocks in the report, but set the chunk option <code>echo = FALSE</code> to hide the source code instead, so readers will not be distracted by the program code for computing. However, the source code is still important for the sake of reproducible research. Sometimes readers may want to verify the computational correctness after they have finished reading the report. In this case, it can be a good idea to hold all code blocks in the body of the report, and display them at the end of a document (e.g., in an appendix).</p>
<p>There is a simple method of extracting all code chunks in a document and put them together in a single code chunk using the chunk option <code>ref.label</code> (label references) and the function <code>knitr::all_labels()</code>, e.g.,</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode md"><code class="sourceCode markdown"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="fu"># Appendix: All code for this report</span></a>
<a class="sourceLine" id="cb29-2" data-line-number="2"></a>
<a class="sourceLine" id="cb29-3" data-line-number="3"><span class="bn">```{r ref.label=knitr::all_labels(), echo=TRUE, eval=FALSE}</span></a>
<a class="sourceLine" id="cb29-4" data-line-number="4"><span class="bn">```</span></a></code></pre></div>
<p>The chunk option <code>ref.label</code> takes a vector of chunk labels to retrieve the content of these chunks. For example, the code chunk with the label <code>chunk-a</code> is the combination of <code>chunk-c</code> and <code>chunk-b</code> below:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode md"><code class="sourceCode markdown"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="bn">```{r chunk-a, ref.label=c(&#39;chunk-c&#39;, &#39;chunk-b&#39;)}</span></a>
<a class="sourceLine" id="cb30-2" data-line-number="2"><span class="bn">```</span></a>
<a class="sourceLine" id="cb30-3" data-line-number="3"></a>
<a class="sourceLine" id="cb30-4" data-line-number="4"><span class="bn">```{r chunk-b}</span></a>
<a class="sourceLine" id="cb30-5" data-line-number="5"><span class="bn"># this is the chunk b</span></a>
<a class="sourceLine" id="cb30-6" data-line-number="6"><span class="bn">1 + 1</span></a>
<a class="sourceLine" id="cb30-7" data-line-number="7"><span class="bn">```</span></a>
<a class="sourceLine" id="cb30-8" data-line-number="8"></a>
<a class="sourceLine" id="cb30-9" data-line-number="9"><span class="bn">```{r chunk-c}</span></a>
<a class="sourceLine" id="cb30-10" data-line-number="10"><span class="bn"># this is the chunk c</span></a>
<a class="sourceLine" id="cb30-11" data-line-number="11"><span class="bn">2 + 2</span></a>
<a class="sourceLine" id="cb30-12" data-line-number="12"><span class="bn">```</span></a></code></pre></div>
<p>In other words, <code>chunk-a</code> is essentially this:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode md"><code class="sourceCode markdown"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="bn">```{r chunk-a}</span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="bn"># this is the chunk c</span></a>
<a class="sourceLine" id="cb31-3" data-line-number="3"><span class="bn">2 + 2</span></a>
<a class="sourceLine" id="cb31-4" data-line-number="4"><span class="bn"># this is the chunk b</span></a>
<a class="sourceLine" id="cb31-5" data-line-number="5"><span class="bn">1 + 1</span></a>
<a class="sourceLine" id="cb31-6" data-line-number="6"><span class="bn">```</span></a></code></pre></div>
<p>The chunk option <code>ref.label</code> has provided a very flexible way of reorganizing code chunks in a document without resorting to cut-and-paste. It does not matter if the code chunks referenced are before or after the code chunk that uses <code>ref.label</code>. An early code chunk can reference a later chunk.</p>
<p>The function <code>knitr::all_labels()</code> returns a vector of all chunk labels in the document, so <code>ref.label = knitr::all_labels()</code> means retrieving all source code chunks to this code chunk. With the chunk options <code>echo = TRUE</code> (display the code) and <code>eval = FALSE</code> (do not evaluate this particular code chunk because all code has been executed before), you can show a copy of all your source code in one code chunk.</p>
<p>Since <code>ref.label</code> can be a character vector of arbitrary chunk labels, you can certainly filter the labels to decide a subset of code chunks to display in the code appendix. Below is an example (credits to <a href="https://yihui.name/en/2018/09/code-appendix/">Ariel Muldoon</a>) of excluding the labels <code>setup</code> and <code>get-labels</code>:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode md"><code class="sourceCode markdown"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="bn">```{r get-labels, echo = FALSE}</span></a>
<a class="sourceLine" id="cb32-2" data-line-number="2"><span class="bn">labs = knitr::all_labels()</span></a>
<a class="sourceLine" id="cb32-3" data-line-number="3"><span class="bn">labs = setdiff(labs, c(&quot;setup&quot;, &quot;get-labels&quot;))</span></a>
<a class="sourceLine" id="cb32-4" data-line-number="4"><span class="bn">```</span></a>
<a class="sourceLine" id="cb32-5" data-line-number="5"></a>
<a class="sourceLine" id="cb32-6" data-line-number="6"><span class="bn">```{r all-code, ref.label=labs, eval=FALSE}</span></a>
<a class="sourceLine" id="cb32-7" data-line-number="7"><span class="bn">```</span></a></code></pre></div>
<p>You can also filter code chunks using the arguments of <code>knitr::all_labels()</code>. For example, you may use <code>knitr::all_labels(engine == &quot;Rcpp&quot;, echo == FALSE)</code> to obtain all your code chunks that use the <code>Rcpp</code> engine (<code>engine == &quot;Rcpp&quot;</code>) and are not displayed in the document (<code>echo = FALSE</code>). If you want precise control over which code chunks to display in the appendix, you may use a special chunk option <code>appendix = TRUE</code> on certain code chunks, and <code>ref.label = knitr::all_labels(appendix == TRUE)</code> to obtain the labels of these code chunks.</p>

</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="linebreaks.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="formatting.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/dr-harper/rmarkdown-cookbook/edit/master/03-content.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
